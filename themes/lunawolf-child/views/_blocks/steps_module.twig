{% set title    = block.title %}
{% set s_style  = block.steps_style %}

{% set section_animation  = settings['section_animation'] %}

{% set text_color  = settings.text_color %}

{% set section_class = s_style ? 'm__stepsTwo' : 'm__steps' %}

{% if not is_preview %}
    {#  {{ dump(settings) }}#}
{% endif %}

{% if section_animation  %}
    {% set animation_type  = settings.animation_type %}
    {% set animation_duration  = settings.animation_duration %}
    {% set animation_delay  = settings.animation_delay %}
<section id="{{ settings.block_id }}" class="{{ section_class }}{{ steps | length == 2 ? ' two' }} appear-animate animated-{{animation_duration}}" data-settings="{'_animation':'{{animation_type}}','_animation_delay':{{animation_delay}}}">
{% else %}
<section id="{{ settings.block_id }}" class="{{ section_class }}{{ steps | length == 2 ? ' two' }}">
{% endif %}
{% include '_components/settings_overlay.twig' %}
    <div class="wrapper color-{{ text_color ?: 'primary' }}">
        {% if title %}
            <div class="titleWrapper -short -center">
                <h1 class="m__steps__title appear-animate" data-settings="{'_animation':'fadeInUpShorter','_animation_delay':0}">{{ title }}</h1>
            </div>
        {% endif %}
        {% if s_style %}
            {% include '_partials/_blocks/_parts/_steps-module/steps_second.twig' with {
                block: block
            } %}
        {% else %}
            {% include '_partials/_blocks/_parts/_steps-module/steps_first.twig' with {
                block: block
            } %}
        {% endif %}
    </div>
    {% if not is_preview %}
        {{ settings.styles | raw }}
    {% endif %}
</section>